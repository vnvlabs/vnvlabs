#This file is autogenerated by calling rebuild_containers_.py with the command --gen. Go edit that file instead.
name: Nightly Build and Release
'on':
  schedule:
  - cron: 0 2 * * *
  workflow_dispatch: {}
jobs:
  env:
    runs-on: ubuntu-latest
    needs: []
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage env
      run: python .github/workflows/rebuild_containers_.py --push --stage env
  
  gui:
    runs-on: ubuntu-latest
    steps:
    - name: checkout
      uses: actions/checkout@v3
    
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    
    
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    
    - name: download-paraview
      uses: actions/cache@v3
      working-directory: ./gui
      id: download-paraview
      with:
        path: ./pv.tar.gz
        key: download-paraview-${{ hashFiles('./download_paraview.sh') }}
    
    - if: ${{steps.download-paraview.outputs.cache-hit != 'true'}}
      name: Download the binary
      working-directory: ./gui
      run: ./download_paraview.sh

    - name: Build Stage gui
      run: python .github/workflows/rebuild_containers_.py --push --stage gui
  
  vnv:
    runs-on: ubuntu-latest
    needs:
    - env
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage vnv
      run: python .github/workflows/rebuild_containers_.py --push --stage vnv
  performance:
    runs-on: ubuntu-latest
    needs:
    - vnv
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage performance
      run: python .github/workflows/rebuild_containers_.py --push --stage performance
  asgard:
    runs-on: ubuntu-latest
    needs:
    - vnv
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage asgard
      run: python .github/workflows/rebuild_containers_.py --push --stage asgard
  heat:
    runs-on: ubuntu-latest
    needs:
    - vnv
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage heat
      run: python .github/workflows/rebuild_containers_.py --push --stage heat
  simple:
    runs-on: ubuntu-latest
    needs:
    - vnv
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage simple
      run: python .github/workflows/rebuild_containers_.py --push --stage simple
  miniamr:
    runs-on: ubuntu-latest
    needs:
    - vnv
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage miniamr
      run: python .github/workflows/rebuild_containers_.py --push --stage miniamr
  swfft:
    runs-on: ubuntu-latest
    needs:
    - vnv
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage swfft
      run: python .github/workflows/rebuild_containers_.py --push --stage swfft
  xsbench:
    runs-on: ubuntu-latest
    needs:
    - vnv
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage xsbench
      run: python .github/workflows/rebuild_containers_.py --push --stage xsbench
  hypre:
    runs-on: ubuntu-latest
    needs:
    - vnv
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage hypre
      run: python .github/workflows/rebuild_containers_.py --push --stage hypre
  petsc:
    runs-on: ubuntu-latest
    needs:
    - hypre
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage petsc
      run: python .github/workflows/rebuild_containers_.py --push --stage petsc
  libmesh:
    runs-on: ubuntu-latest
    needs:
    - petsc
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage libmesh
      run: python .github/workflows/rebuild_containers_.py --push --stage libmesh
  mfem:
    runs-on: ubuntu-latest
    needs:
    - petsc
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage mfem
      run: python .github/workflows/rebuild_containers_.py --push --stage mfem
  moose:
    runs-on: ubuntu-latest
    needs:
    - libmesh
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage moose
      run: python .github/workflows/rebuild_containers_.py --push --stage moose
  plugins:
    runs-on: ubuntu-latest
    needs:
    - performance
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage plugins
      run: python .github/workflows/rebuild_containers_.py --push --stage plugins
  demo:
    runs-on: ubuntu-latest
    needs:
    - simple
    - heat
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage demo
      run: python .github/workflows/rebuild_containers_.py --push --stage demo
  proxyapps:
    runs-on: ubuntu-latest
    needs:
    - swfft
    - miniamr
    - xsbench
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage proxyapps
      run: python .github/workflows/rebuild_containers_.py --push --stage proxyapps
  all:
    runs-on: ubuntu-latest
    needs:
    - asgard
    - simple
    - heat
    - swfft
    - miniamr
    - xsbench
    - moose
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage all
      run: python .github/workflows/rebuild_containers_.py --push --stage all
  fvnv:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - vnv
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fvnv
      run: python .github/workflows/rebuild_containers_.py --push --stage fvnv
  fperformance:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - performance
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fperformance
      run: python .github/workflows/rebuild_containers_.py --push --stage fperformance
  fplugins:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - plugins
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fplugins
      run: python .github/workflows/rebuild_containers_.py --push --stage fplugins
  fasgard:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - asgard
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fasgard
      run: python .github/workflows/rebuild_containers_.py --push --stage fasgard
  fheat:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - heat
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fheat
      run: python .github/workflows/rebuild_containers_.py --push --stage fheat
  fsimple:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - simple
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fsimple
      run: python .github/workflows/rebuild_containers_.py --push --stage fsimple
  fminiamr:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - miniamr
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fminiamr
      run: python .github/workflows/rebuild_containers_.py --push --stage fminiamr
  fswfft:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - swfft
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fswfft
      run: python .github/workflows/rebuild_containers_.py --push --stage fswfft
  fxsbench:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - xsbench
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fxsbench
      run: python .github/workflows/rebuild_containers_.py --push --stage fxsbench
  fhypre:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - hypre
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fhypre
      run: python .github/workflows/rebuild_containers_.py --push --stage fhypre
  fpetsc:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - petsc
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fpetsc
      run: python .github/workflows/rebuild_containers_.py --push --stage fpetsc
  flibmesh:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - libmesh
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage flibmesh
      run: python .github/workflows/rebuild_containers_.py --push --stage flibmesh
  fmfem:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - mfem
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fmfem
      run: python .github/workflows/rebuild_containers_.py --push --stage fmfem
  fmoose:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - moose
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fmoose
      run: python .github/workflows/rebuild_containers_.py --push --stage fmoose
  fall:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - all
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fall
      run: python .github/workflows/rebuild_containers_.py --push --stage fall
  fdemo:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - demo
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fdemo
      run: python .github/workflows/rebuild_containers_.py --push --stage fdemo
  fproxyapps:
    runs-on: ubuntu-latest
    needs:
    - gui
    - plugins
    - proxyapps
    steps:
    - name: checkout
      uses: actions/checkout@v3
    - name: python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: docker
      uses: docker/login-action@v1
      with:
        registry: ghcr.io
        username: ${{github.actor}}
        password: ${{secrets.GITHUB_TOKEN}}
    - name: Install Deps
      run: python -m pip install --upgrade pip && pip install docker pyyaml
    - name: SSH TO HTTP
      run: python .github/workflows/ssh_to_https.py
    - name: Build Stage fproxyapps
      run: python .github/workflows/rebuild_containers_.py --push --stage fproxyapps

